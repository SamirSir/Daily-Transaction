
<% if user_signed_in? %>
<div id="mySidenav" class="sidenav">
    <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
    <a href="<%= root_path %>">Home</a>
    <%= render "layouts/collapse_expand", {type:"group", tag: "Groups", listId: "groupList", items: current_user.groups} %>
    <a href="<%= invitations_path %>">Invitations </a>
    
    <% if @group && !@group.id.zero?%>
    <a href="<%= notifications_path(@group) %>">Notifications</a>
    <% end %>
    
    <a href="#">Settings</a>
</div>
<% end %>

<div id="main" class=" mb-4 d-flex justify-content-between shadow" >
   
    <div class="ml-3">
         <% if user_signed_in? %>
            <span id="openSideNav" style="font-size: 1.5em; cursor:pointer;" onclick="openNav()">&#9776;</span>
        <% end %>
    </div>
    
    <div class="">
        <span class="font-effect-multiple-shadow title_name">Daily Transaction</span>
    </div>

    <div class="">
       <%# <%= user_signed_in? ? current_user.email : "Login" %>   
        <% if user_signed_in? %>
            <%= link_to username(current_user.email), profiles_path(current_user.id) %> |
            <%= link_to "Logout", destroy_user_session_path, method: :delete %>
        <% end %>

    </div>
    <%# render 'layouts/navbar' %>
</div>

<script>

    // sidebar
    function openNav() {
        document.getElementById("mySidenav").style.width = "250px";
        // document.getElementById("main").style.marginLeft = "250px";
        document.body.style.backgroundOpacity = "0.5";
    }

    function closeNav() {
        document.getElementById("mySidenav").style.width = "0";
        // document.getElementById("main").style.marginLeft= "0";
        document.body.style.backgroundColor = "white";
    }

    // var insideCount = 0;
    // $("#openSideNav").on("click", function(){
    //     insideCount += 1;      
    //     console.log("Inside Click", insideCount);
    // }); 

    // if (insideCount >= 1){
    //     window.addEventListener("click", function(event){
    //         if(document.getElementById("mySidenav").contains(event.target) == false){
    //             closeNav();
    //             insideCount = 0;
    //         } 
    //     });
    // }

    // window.addEventListener('click', function(e){   
    //   if (document.getElementById('clickbox').contains(e.target)){
    //     // Clicked in box
    //   } else{
    //     // Clicked outside the box
    //   }
    // });

    // steaky navbar
    // window.onscroll = function() {myFunction()};

    // var navbar = document.getElementById("main");
    // var sticky = navbar.offsetTop;

    // function myFunction() {
    // if (window.pageYOffset >= sticky) {
    //     navbar.classList.add("sticky");
    // } else {
    //     navbar.classList.remove("sticky");
    // }
    // }
    
</script>

